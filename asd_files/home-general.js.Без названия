function getCookie(name){const cookies=document.cookie.split('; ');for(const cookie of cookies){const[cookieName,cookieValue]=cookie.split('=');if(cookieName===name){return decodeURIComponent(cookieValue);}}
return null;}
$("#filter__notes").on('input',function(){if($(this).val()==''){$(".recent__card").removeClass('d-none');return;}
var userSearch=$(this).val().toLowerCase();$(".recent__card").addClass('d-none');var userSearchNotes=[];userNotesData.filter(e=>{var title=(e.title).toLowerCase();(title).includes(userSearch)&&userSearchNotes.push(e.unique_id);});$(".recent__card").each((i,e)=>{userSearchNotes.includes($(e).data('id'))&&$(e).removeClass('d-none');});});$("#sort__notes").on('click',function(){$(".user__notes__sort").toggleClass('d-none');});$(".editor__sidebar__toggle").on('click',function(){$("#docs__sidebar").toggleClass('toggleClose');$("#lineNumber").toggleClass('toggleClose');$(".ql-title-wrap").toggleClass('toggleClose');if($("#editorTextarea").hasClass('aceEditorTextarea')){$("#editorTextarea").toggleClass('shrink__ace__editor');}else{$("#editorTextarea").toggleClass('shrink__editor');}
$(".ql-editor").toggleClass('toggleClose');});$(".close__wellcome__popup").on('click',function(){var expirationDate=new Date();expirationDate.setDate(expirationDate.getDate()+7);var expires=expirationDate.toUTCString();document.cookie="content_popup=true; expires="+expires+"; path=/";$("#contentSec").hide();$(".popup-overlay").hide();});$(".content__popup__default").on('click',function(){var popupBehaviour=$("input[name='contentpopuptype']:checked").val();if(popupBehaviour=='skip')return;localStorage.setItem('hideContentPopup',true);});$(document).on('keydown',function(){if($("#contentSec").css('display')!='none'){$("#contentSec").hide();$(".popup-overlay").hide();$(".dontshowpopup h2").click();}});$('.popup-overlay').on('click',function(){$("#contentSec").hide();$(".popup-overlay").hide();});$(document).on("click",function(event){if(!$(event.target).closest("home__lang__options").length&&!$(event.target).is(".home__lang__options")&&!$(event.target).is('.home__lang__div > *')){if($(".home__lang__options").hasClass('active')&&langPopup){$(".home__lang__options").removeClass('active');}}});$(".home__lang__div").on('click',()=>{$(".home__lang__options").toggleClass('active')
langPopup=true;});$(".close__docs__popup").on('click',function(){$(".user__notes__wrapper").toggleClass('show-popup');});$('#shareDoc').on('click',function(){$(".popup__wrapper").toggleClass('show');});$(".close__shareDoc").on('click',function(){$(".popup__wrapper").toggleClass('show');});$("#notes__card__view").on('click',function(){$(".recent__documents").removeClass('list__view');$(this).addClass('active');$("#notes__list__view").removeClass('active');});$("#notes__list__view").on('click',function(){$(".recent__documents").addClass('list__view');$(this).addClass('active');$("#notes__card__view").removeClass('active');});$("#downloadFile").on('click',function(){let editorContent;if(isFormatingOn){editorContent=exportContentToHTML(editorSection.state);}else{editorContent=$("#textarea__editor").val();}
let fileName='file.txt';let tempElem=document.createElement("a");let blob=new Blob([editorContent],{type:'text/plain'});let url=URL.createObjectURL(blob);tempElem.href=url;tempElem.download=fileName;document.body.appendChild(tempElem);tempElem.click();URL.revokeObjectURL(url);document.body.removeChild(tempElem);});$("#copyContent").on('click',function(){const editorContent=quillJs.root.innerText;navigator.clipboard.writeText(editorContent);});$("#txtFile").on("change",function(){$("#contentSec").hide();$(".popup-overlay").hide();var input=$(this);var input=input[0].files[0];if(input==undefined){return;}
var formData=new FormData();formData.append("myFile",input);formData.append("_token",$('meta[name="_token"]').attr("content"));formData.append("getFileContent",true);var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var resp=this.responseText;if(resp=="error5@@##01"){showAlertBox("File Error!",".txt, .docx, .pdf files are supported only. Try Again!");document.getElementById("uplFile").value="";document.getElementById("uplFile").innerHTML="";}else{resp=resp.replaceAll(/\\n/g,'\n\n').replaceAll(/\\r/g,'').replaceAll("   ",' ').replaceAll('  ',' ');resp=resp.replaceAll('\\','');if(isFormatingOn){initProseMirrorEditor(resp,false);}else{$("#textarea__editor").val($("#textarea__editor").val()+'\n\r'+resp);}}}};xhttp.open("POST",base_url+"getTxtFrmFile");xhttp.send(formData);});$("#close__delete__popup, .cancel__delete").on('click',function(){$(".delete__popup__wrapper").removeClass('show');$(".recent__docs__list > div").removeClass('prepare__for__delete');});$(document).on('click','.delete__note__sidebar',function(){let parentElement=$(this).parent();parentElement.addClass('prepare__for__delete')
let docID=parentElement.data('id');docTitle=$(parentElement).find('p').text();$('.delete__info p').text(docTitle);$("#delete__note__button").data('id',docID);$(".delete__popup__wrapper").addClass('show');});var elem=document.documentElement;function openFullscreen(){if(elem.requestFullscreen){elem.requestFullscreen();}else if(elem.webkitRequestFullscreen){elem.webkitRequestFullscreen();}else if(elem.msRequestFullscreen){elem.msRequestFullscreen();}}
function closeFullscreen(){if(document.exitFullscreen){document.exitFullscreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}}
$("#fullscreen, #fullscreen_mobile").on("click",function(){if(document.fullscreenElement){closeFullscreen();$(".header").removeClass('d-none');$(".editpad_text").removeClass('fullScreen');$("#textform").removeClass('fullScreen');$(this).closest(".tooltipTest").text("Full Screen");$(this).children("img.normalScreen").hide();$(this).children("img.fullScreen").show();}else{openFullscreen();$(".editpad_text").addClass('fullScreen');$("#textform").addClass('fullScreen');$(".header").addClass('d-none');$(this).closest(".tooltipTest").text("Exit Fullscreen");$(this).children("img.normalScreen").show();$(this).children("img.fullScreen").hide();$(this).removeClass("active");}});